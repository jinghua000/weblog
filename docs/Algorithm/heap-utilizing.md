# heap-utilizing (堆的运用)

## 前言

之前我们学习了[堆的基本实现](./heap-implementation.md)，这次来了解一下他的实际运用。

## 排序

首先对于堆来说的一个十分通常的运用就是排序了，接下来尝试实现一个**由小到大**的堆排序吧。

对于从小到大的排序，大致的思路是：

1. 把原本的数组转换成一个`大顶堆`。
2. 把第一位和最后一位交换，此时最后一位就是最大值。
3. 把整体堆的长度减一，然后再构建成新的大顶堆。
4. 重复以上2步（类似于`remove`操作），最后得到一个从小到大排序的数组。

首先假设有一个这样的数组。

```
[2,5,9,7,8,1]
```

把他转为二叉树的形式则是。

```
      2
    /   \ 
   5     9
 /  \   /
7    8 1
```

接下来的问题就是，如何把现有的数组变成一个大顶堆。

虽然也可以从最后一个元素开始遍历一个个执行插入运算，但还有更简单的方法。首先回顾一下大顶堆的特性，**任意一个父节点大于等于其子节点**，所以对于堆来说最快的计算方式是从最后一个**非叶子节点**开始遍历，与自己以及两个子节点进行比较，和最大的那个进行交换，这样就可以不用运算剩余的叶子节点了。

于是要想如何取得最后一个非叶子节点。



## 参考

- [堆排序](https://sort.hust.cc/7.heapsort)
- [heap sort](https://www.programiz.com/dsa/heap-sort#:~:text=%20How%20Heap%20Sort%20Works%3F%20%201%20Since,have%20the%20highest%20element%20at%20root.%20More%20)